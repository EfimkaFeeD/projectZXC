# Project ^ZXC^

## Концепт
Прототипом нашего проекта послужила игра "osu!".
Главная суть - попадание по кружкам в такт музыке осталась не тронута

![Главное меню в osu!](https://i.yapx.ru/VTgYV.png)
![Геймплей osu!](https://i.yapx.ru/VTgZ8.png)
![Редактор уровня в osu!](https://i.yapx.ru/VTgaP.png)

## Структура проекта
* source/ - главная папка проекта
    * bin/ - папка с файлами игры
        * materials/ - папка с материалами для программы (картинки шрифты)
            * menu_musics/ - папка с музыкой главного меню
        * songs/ - папка с музыкой / уровнями
        * system/ - папка с базой данных и инструкцией
            * logs/ - папка с логами программы
            * Highly\_Usable\_Interface.py - интерфейс для лаунчера
            * instructions.txt - инструкция
            * zxc.db - база данных
        * main.py - главный python файл с игрой
    * launcher.py - лаунчер игры
* requirments.txt - файл с требуемыми библиотеками pip для работы игры

## Структура launcher.py файла
* Главный класс - "MyWidget"
* Класс с логами - "BugReportsWindow"

### Главный класс (MyWidget)
В этом классе реализованы все основные функции лаунчера. Большинство функций в нем отвечают за создание и функционирование кнопок.

Главное окно лаунчера
![Главное окно лаунчера](https://i.yapx.ru/VTgaY.png)

### Класс с логами (BugReportsWindow)
В этом классе реализован репорт багов, в нем открывается окно для репортов проблем на GitHub и окно с логами.

Окно с логами
![Окно с логами](https://i.yapx.ru/VTgaU.png)

## Структура main.py файла
* Функция вступления - "intro"
* Класс курсора - "Cursor"
* Класс меню - "Menu"
* Класс игры - "Game"
* Класс целей - "TargetCircle"
* Класс реджактора уровней - "LevelEditor"
    * Класс для создания уровня в реальном времени - "LiveMapWindow"
        * Класс вспомогательный для "LiveMapWindow" - "MappingCircle"
    * Класс для проверки созданного уровня - "TestMenu"
* Класс для управления аккаунтом - "AccountMenu"
* Класс для просмотра статистики - "StatsMenu"
* Класс окна паузы - "PauseMenu"
* Класс результатов игры - "GameResultMenu"
* Класс пустого уровня - "EmptyLevelWindow"
* Класс инструкции - "InstructionsWindow"
* Вспомогательный класс - "DialogWindow"

### Вступление (intro)
В этой функции реализована красивая анимация вступления.

Вступление
![Вступление](https://i.yapx.ru/VTgaS.png)

### Меню (Menu)
В этом классе реализовано главное меню игры, это класс, который "соединяет" все остальные классы вместе.
В нем большую часть функций отвечает за создание и функционирование кнопок с настройками и переходами на другие классы (аккаунт, статистика...).

Меню
![Меню](https://i.yapx.ru/VTgaE.png)

Меню с активированными элементами
![Меню с активированными элементами](https://i.yapx.ru/VTgaK.png)

### Игра (Game)
В этом классе реализована механика игры. В нем большую часть функций отвечает за логику игры и вывод игры на экран.

Игровой процесс
![Игровой процесс](https://i.yapx.ru/VTgY2.png)

### Цели (TargetCircle)
В этом классе реализовано создание целей с разными параметрами, этот класс является, по сути своей, генератором.

### Редактор уровней (LevelEditor)
В этом классе реализован редактор уровней, он является связующим для LiveMapWindow и TestMenu. В нем большую часть функций отвечает за создание и функционирование кнопок.

Главное окно редактора уровня
![Главное окно редактора уровня](https://i.yapx.ru/VTgZk.png)

#### Создание уровня в реальном времени (LiveMapWindow)
В этом классе реализовано создание уровня в реальном времени. В нем большинство функций отвечает за логику создания 

Процесс создания уровня в реальном времени
![Процесс создания уровня в реальном времени](https://i.yapx.ru/VTgZ4.png)

##### Вспомогательный класс для LiveMapWindow (MappingCircle)
В этом классе реализовано отображение нажатий по экрану во время создания уровня в реальном времени.

#### Проверка созданного уровня (TestMenu)
В этом классе реализована проверка уровня из json файла. В нем большинство функций отвечает за вывод на экран созданных целей из json файла.

Тест уровня в реальном времени
![Тест уровня в реальном времени](https://i.yapx.ru/VTgZv.png)

### Управление аккаунтом (AccountMenu)
В этом классе реализовано взоимодействие с аккаунтом пользователя. В нем большинство функций отвечает за создание и функционирование кнопок и полей для ввода и связь с базой данных.

Окно управления аккаунтом
![Окно управления аккаунтом](https://i.yapx.ru/VTgZF.png)

### Статистика (StatsMenu)
В этом классе реализован просмотр и сброс статистики. В нем большинство функций отвечает за вывод на экран статистики.

Окно со статистикой
![Окно со статистикой](https://i.yapx.ru/VTiOF.png)

### Окно паузы (PauseMenu)
В этом классе реализовано создание меню паузы, хотя по сути своей класс является генератором 2 кнопок, используемых, чаще всего, для создания окон подтверждения.

Окно паузы
![Окно паузы](https://i.yapx.ru/VTjuZ.png)

### Результаты игры (GameResultMenu)
В этом классе реализовано отображение результатов уровня и запись их в базу данных. В нем большинство функций отвечает за вывод результатов уровня и запись их в базу данных.

Результат игры победа
![Результат игры победа](https://i.yapx.ru/VTjuU.png)

Результат игры поражение
![Результат игры поражение](https://i.yapx.ru/VTkAA.png)

### Пустой уровень (EmptyLevelWindow)
В этом классе реализована ситуация, когда json уровня пустой, класс создает окно которое сообщает об этом пользователю.

Пустой уровень
![Пустой уровень](https://i.yapx.ru/VTjud.png)

### Инструкция (InstructionsWindow)
В этом классе реализован вывод инструкции к программе.

Окно с инструкцией
![Окно с инструкцией](https://i.yapx.ru/VTjue.png)

### Вспомогательный клвсс (DialogWindow)
Этот класс создает окно для ввода информации.

## Технологии
### Лаунчера:
* Библиотека PyQt5
* Библиотека subprocess
* Библиотека webbrowser
* Библиотека psutils

### Игры:
* Библиотека pygame
    * Библиотека pygame_widgets
* Библиотека screeninfo
* Библиотека tkinter
* Библиотека sqlite3
* Библиотека json
* Библиотека logging
* База данных SQLite

### Всего проекта:
* Git
    * GitHub

### PyQt5
Библиотека для создания интерфейса лаунчера.

### subprocess
Библиотека нужна для запуска исполняемого файла игры.

### webbrowser
Библиотека нужна для открытия интернет ссылки.

### putils
Библиотека нужна для мониторинга открых программ.

### Pygame
Основная библиотека дял отображения и логики проекта. Да и потом, проект по pygame :D

#### Pygame_Widgets
Вспомогательная библиотека к pygame. Используется для всех элементов взаимодействия (кнопок, слайдеров, переключателей...). В ней очень удобно реализовано создание частых элементов взаимодействия.

### ScreenInfo
По непонятной причине pygame неправильно считывает разрешение экрана при масштабе отличном от 100% в Windows. Эта библиотека исправляет это (мы до сих пор не понимаем как это работает, но мы не задаем лишних вопросов).

### TKinter
В игре необходимо передавать файлы, в tkinter есть удобный диалог для этого.

### sqlite3
Библитека для взаимодействия с базой данных.

### json
В игре, вся основная информация уровней храниться в json файлах, библиотка позволяет работать с ними. Json формат был выбран так, как по сути своей это словарь для python, благодаря этому очень удобно вытаскивать определенные данные из него.

## logging
Библиотека для сохранения логов.

### SQLite
База данных для хранения информации о пользователях.

### Git
Система контроля версий.

#### GitHub
Хостинг для Git.

## Возможности лаунчера

### Запуск игры
Лаунчер может запустить игру (сам в шоке).

### Открытие GitHub
Лаунчер может открыть GitHub репозиторий проекта.

### Помощь
Лаунчер может открыть txt файл с инструкцией.

### Репорт багов
Лаунчер может открыть окно с логами и страницу с репортом ошибок на GitHub.

## Возможности игры

### Управление аккаунтом
Если пользователь хочет сохранить свою статистику, то он может создать аккаунт. Позже, пользователь может войти в аккаунт и продолжать сохранять статистику в свой аккаунт. Если пользователь захочет, то может удалить аккаунт.

### Настройки
Пользователь может настроить игру и уровень сложности под себя.

### Редактор уровней
Если пользователю наскучат стандартные уровни, то он может отредактировать их, или создать новыне и также редактировать и их.

### Репорт багов
Если у пользователя возникнет ошибка в процессе игры, то через лаунчер он может открыть логи и станицу с проблемами на GitHub.